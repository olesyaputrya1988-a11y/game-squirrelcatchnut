<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My House Word Search (LIVINGROOM in 1 line)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #0a0f1a;
            color: #e2e8f0;
            text-align: center;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            font-size: 2.2rem;
            margin: 15px 0;
            color: #e0f2fe;
            text-shadow: 0 0 12px rgba(96, 165, 250, 0.7);
            letter-spacing: 1px;
        }

        .subtitle {
            color: #94a3b8;
            margin-bottom: 12px;
            font-size: 1.05rem;
        }

        .sound-toggle {
            margin: 8px 0;
            font-size: 0.95rem;
            color: #64748b;
            cursor: pointer;
            user-select: none;
        }
        .sound-toggle:hover { color: #93c5fd; }

        .grid-container {
            position: relative;
            display: inline-block;
            padding: 8px;
            margin: 10px 0;
            border-radius: 12px;
            box-shadow:
                0 0 0 2px #0c4a6e,
                0 0 8px #2563eb,
                0 0 24px rgba(59, 130, 246, 0.6),
                inset 0 0 14px rgba(20, 40, 80, 0.9);
            background: rgba(10, 15, 30, 0.6);
            animation: neonPulse 2.8s infinite alternate;
        }

        @keyframes neonPulse {
            0%, 100% { 
                box-shadow: 
                    0 0 0 2px #0c4a6e,
                    0 0 8px #2563eb,
                    0 0 24px rgba(59, 130, 246, 0.6),
                    inset 0 0 14px rgba(20, 40, 80, 0.9);
            }
            50% { 
                box-shadow: 
                    0 0 0 2px #1d4ed8,
                    0 0 14px #60a5fa,
                    0 0 36px rgba(96, 165, 250, 0.85),
                    inset 0 0 18px rgba(40, 80, 180, 0.95);
            }
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            background: #0f172a;
            padding: 10px;
            border-radius: 10px;
        }

        .cell {
            width: 42px;
            height: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1e293b;
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.2rem;
            color: #f1f5f9;
            user-select: none;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .cell:hover:not(.active):not([class*="found-"]) {
            background: #334155;
        }

        .cell.active {
            background: #f97316;
            color: white;
            transform: scale(1.05);
            box-shadow: 0 0 6px rgba(249, 115, 22, 0.7);
            z-index: 2;
        }

        /* –¶–≤–µ—Ç–∞ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ */
        .cell.found-garden { color: #10b981; text-shadow: 0 0 8px rgba(16, 185, 129, 0.9); }
        .cell.found-bedroom { color: #c084fc; text-shadow: 0 0 8px rgba(192, 132, 252, 0.8); }
        .cell.found-bathroom { color: #60a5fa; text-shadow: 0 0 8px rgba(96, 165, 250, 0.9); }
        .cell.found-kitchen { color: #fbbf24; text-shadow: 0 0 8px rgba(251, 191, 36, 0.8); }
        .cell.found-livingroom { color: #818cf8; text-shadow: 0 0 8px rgba(129, 140, 248, 0.85); }
        .cell.found-treehouse { 
            color: #6ee7b7; 
            text-shadow: 0 0 6px rgba(110, 231, 183, 0.7), 0 0 12px rgba(248, 113, 113, 0.4);
            animation: treeGlow 1.5s infinite alternate;
        }
        .cell.found-house { color: #f87171; text-shadow: 0 0 8px rgba(248, 113, 113, 0.8); }
        .cell.found-window { color: #93c5fd; text-shadow: 0 0 8px rgba(147, 197, 253, 0.8); }
        .cell.found-bed { color: #a78bfa; text-shadow: 0 0 8px rgba(167, 139, 250, 0.8); }
        .cell.found-chair { color: #fde047; text-shadow: 0 0 8px rgba(253, 224, 71, 0.7); }
        .cell.found-bath { color: #22d3ee; text-shadow: 0 0 8px rgba(34, 211, 238, 0.8); }

        @keyframes treeGlow {
            0% { text-shadow: 0 0 6px rgba(110, 231, 183, 0.5), 0 0 0 rgba(248, 113, 113, 0); }
            100% { text-shadow: 0 0 10px rgba(110, 231, 183, 0.9), 0 0 6px rgba(248, 113, 113, 0.6); }
        }

        .words {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin: 16px auto;
            max-width: 90vw;
        }

        .word {
            padding: 7px 14px;
            background: #1e293b;
            border-radius: 8px;
            font-size: 1.05rem;
            min-width: 100px;
            color: #94a3b8;
            transition: all 0.25s;
            border: 1px solid transparent;
        }

        .word.found { border-color: currentColor; background: rgba(30, 41, 59, 0.5); }
        .word.found-garden { color: #10b981; }
        .word.found-bedroom { color: #c084fc; }
        .word.found-bathroom { color: #60a5fa; }
        .word.found-kitchen { color: #fbbf24; }
        .word.found-livingroom { color: #818cf8; }
        .word.found-treehouse { color: #6ee7b7; }
        .word.found-house { color: #f87171; }
        .word.found-window { color: #93c5fd; }
        .word.found-bed { color: #a78bfa; }
        .word.found-chair { color: #fde047; }
        .word.found-bath { color: #22d3ee; }

        button {
            background: linear-gradient(135deg, #8b5cf6, #6366f1);
            color: white;
            border: none;
            padding: 12px 32px;
            font-size: 1.25rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            margin: 16px 0;
            box-shadow: 0 4px 16px rgba(99, 102, 241, 0.4);
            transition: all 0.25s;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(139, 92, 246, 0.6);
        }

        .status {
            font-size: 1.15rem;
            margin: 12px 0;
            min-height: 28px;
            color: #cbd5e1;
            font-weight: bold;
        }

        .instructions {
            color: #64748b;
            font-size: 0.95rem;
            margin: 16px auto;
            max-width: 580px;
            line-height: 1.5;
        }

        @media (max-width: 500px) {
            .cell { width: 34px; height: 34px; font-size: 1rem; }
            h1 { font-size: 1.8rem; }
            .grid { padding: 6px; }
        }
    </style>
</head>
<body>
    <h1>üè° My House Word Search</h1>
    <div class="subtitle">Find 11 words -- LIVINGROOM is in one line!</div>
    
    <div class="sound-toggle" id="soundToggle">üîä Sounds: ON</div>

    <div class="status" id="status">Click letters to start‚Ä¶</div>

    <div class="grid-container">
        <div class="grid" id="grid"></div>
    </div>

    <div class="words" id="words-container"></div>

    <button id="restart">‚Üª Restart Game</button>

    <div class="instructions">
        ‚úÖ <code>LIVINGROOM</code> (10 letters) is placed horizontally in one row!<br>
        üéµ Each word has its own color and musical note.<br>
        Words: <code>GARDEN, BEDROOM, BATHROOM, KITCHEN, LIVINGROOM, TREEHOUSE, HOUSE, WINDOW, BED, CHAIR, BATH</code>
    </div>

    <script>
        // === üéµ Web Audio API ===
        let audioContext = null;
        let isSoundEnabled = true;

        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function clickSound() {
            if (!isSoundEnabled) return;
            initAudio();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = 'sine';
            osc.frequency.value = 600;
            gain.gain.value = 0.08;
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);
            osc.connect(gain).connect(audioContext.destination);
            osc.start();
            osc.stop(audioContext.currentTime + 0.2);
        }

        const NOTE_BASE = 261.63; // C4
        const WORD_TO_NOTE = {
            "GARDEN": 4,       // E
            "BEDROOM": 7,      // B
            "BATHROOM": 0,     // C
            "KITCHEN": 2,      // D
            "LIVINGROOM": 5,   // F ‚Üê —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –Ω–æ—Ç–∞!
            "TREEHOUSE": 9,    // D (–æ–∫—Ç–∞–≤–∞ –≤—ã—à–µ)
            "HOUSE": 11,       // B
            "WINDOW": 3,       // D#
            "BED": 7,          // B
            "CHAIR": 10,       // C#
            "BATH": 1          // C#
        };

        function successSound(word) {
            if (!isSoundEnabled) return;
            initAudio();
            const semitones = WORD_TO_NOTE[word] || 0;
            const freq = NOTE_BASE * Math.pow(2, semitones / 12);
            
            [0, 4, 7].forEach((interval, i) => {
                setTimeout(() => {
                    const f = freq * Math.pow(2, interval / 12);
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    osc.type = 'sine';
                    osc.frequency.value = f;
                    gain.gain.value = 0.12;
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
                    osc.connect(gain).connect(audioContext.destination);
                    osc.start();
                    osc.stop(audioContext.currentTime + 0.3);
                }, i * 150);
            });
        }

        function errorSound() {
            if (!isSoundEnabled) return;
            initAudio();
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = 'square';
            osc.frequency.value = 120;
            gain.gain.value = 0.15;
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
            osc.connect(gain).connect(audioContext.destination);
            osc.start();
            osc.stop(audioContext.currentTime + 0.3);
        }

        function winSound() {
            if (!isSoundEnabled) return;
            initAudio();
            const melody = [0, 4, 7, 12, 7, 4, 0];
            melody.forEach((semitone, i) => {
                setTimeout(() => {
                    const freq = NOTE_BASE * Math.pow(2, (semitone + 12) / 12);
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    osc.type = 'sine';
                    osc.frequency.value = freq;
                    gain.gain.value = 0.2;
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.25);
                    osc.connect(gain).connect(audioContext.destination);
                    osc.start();
                    osc.stop(audioContext.currentTime + 0.25);
                }, i * 200);
            });
        }

        // === üéÆ –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ ===
        const WORDS_INFO = [
            { word: "GARDEN", color: "garden" },
            { word: "BEDROOM", color: "bedroom" },
            { word: "BATHROOM", color: "bathroom" },
            { word: "KITCHEN", color: "kitchen" },
            { word: "LIVINGROOM", color: "livingroom" }, // ‚Üê 10 –±—É–∫–≤!
            { word: "TREEHOUSE", color: "treehouse" },
            { word: "HOUSE", color: "house" },
            { word: "WINDOW", color: "window" },
            { word: "BED", color: "bed" },
            { word: "CHAIR", color: "chair" },
            { word: "BATH", color: "bath" }
        ];

        const WORDS = WORDS_INFO.map(w => w.word);
        const SIZE = 10;

        let grid = [];
        let activeCells = [];
        let foundWords = new Set();
        let wordPositions = new Map();

        function initGame() {
            grid = Array(SIZE).fill().map(() => Array(SIZE).fill(''));
            activeCells = [];
            foundWords = new Set();
            wordPositions = new Map();
            document.getElementById('status').textContent = "Click letters to find house words‚Ä¶";
            document.getElementById('status').style.color = "#cbd5e1";
            
            placeWords();
            fillEmpty();
            renderGrid();
            renderWords();
        }

        function placeWords() {
            const directions = [[0,1],[1,0],[1,1],[1,-1]];

            // –°–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–º–µ—â–∞–µ–º LIVINGROOM –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—É—é —Å—Ç—Ä–æ–∫—É
            const livingRow = Math.floor(Math.random() * SIZE);
            const livingStartCol = 0; // ‚Üê –≤—Å–µ–≥–¥–∞ —Å –Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∫–∏!
            for (let j = 0; j < 10; j++) {
                grid[livingRow][j] = "LIVINGROOM"[j];
            }
            wordPositions.set("LIVINGROOM", new Set(Array.from({length: 10}, (_, j) => `${livingRow},${j}`)));

            // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ -- –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ –±–µ–∑ LIVINGROOM
            const otherWords = WORDS_INFO.filter(w => w.word !== "LIVINGROOM")
                .sort((a, b) => b.word.length - a.word.length);

            for (const { word } of otherWords) {
                let placed = false;
                let attempts = 0;
                const positions = new Set();

                while (!placed && attempts < 500) {
                    const dir = directions[Math.floor(Math.random() * directions.length)];
                    const dx = dir[0], dy = dir[1];
                    const startX = Math.floor(Math.random() * SIZE);
                    const startY = Math.floor(Math.random() * SIZE);

                    let canPlace = true;
                    const tempPos = [];
                    for (let i = 0; i < word.length; i++) {
                        const x = startX + dx * i;
                        const y = startY + dy * i;
                        if (x < 0 || x >= SIZE || y < 0 || y >= SIZE || 
                            (grid[x][y] !== '' && grid[x][y] !== word[i])) {
                            canPlace = false;
                            break;
                        }
                        tempPos.push({x, y, char: word[i]});
                    }

                    if (canPlace) {
                        for (const {x, y, char} of tempPos) {
                            grid[x][y] = char;
                            positions.add(`${x},${y}`);
                        }
                        wordPositions.set(word, positions);
                        placed = true;
                    }
                    attempts++;
                }
            }
        }

        function fillEmpty() {
            const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            for (let i = 0; i < SIZE; i++) {
                for (let j = 0; j < SIZE; j++) {
                    if (grid[i][j] === '') {
                        grid[i][j] = letters[Math.floor(Math.random() * letters.length)];
                    }
                }
            }
        }

        function renderGrid() {
            const gridEl = document.getElementById('grid');
            gridEl.innerHTML = '';
            for (let i = 0; i < SIZE; i++) {
                for (let j = 0; j < SIZE; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.textContent = grid[i][j];
                    cell.dataset.row = i;
                    cell.dataset.col = j;

                    cell.addEventListener('click', () => {
                        clickSound();
                        toggleCell(cell, i, j);
                    });

                    for (const [word, positions] of wordPositions) {
                        if (foundWords.has(word) && positions.has(`${i},${j}`)) {
                            const info = WORDS_INFO.find(w => w.word === word);
                            cell.classList.add(`found-${info.color}`);
                            break;
                        }
                    }

                    gridEl.appendChild(cell);
                }
            }
        }

        function renderWords() {
            const container = document.getElementById('words-container');
            container.innerHTML = '';
            WORDS_INFO.forEach(({word, color}) => {
                const span = document.createElement('div');
                span.className = 'word';
                span.textContent = word;
                if (foundWords.has(word)) {
                    span.classList.add('found', `found-${color}`);
                }
                container.appendChild(span);
            });
        }

        function toggleCell(cell, row, col) {
            const coord = `${row},${col}`;
            const idx = activeCells.findIndex(item => item.coord === coord);

            const isFound = Array.from(cell.classList).some(cls => cls.startsWith('found-'));
            if (isFound) return;

            if (idx === -1) {
                cell.classList.add('active');
                activeCells.push({ el: cell, row, col, letter: cell.textContent, coord });
            } else {
                cell.classList.remove('active');
                activeCells.splice(idx, 1);
            }

            checkWords();
        }

        function checkWords() {
            const selectedCoords = new Set(activeCells.map(item => item.coord));

            for (const { word } of WORDS_INFO) {
                if (foundWords.has(word)) continue;

                const positions = wordPositions.get(word);
                if (!positions) continue;

                if (positions.size === selectedCoords.size && 
                    [...positions].every(pos => selectedCoords.has(pos))) {

                    foundWords.add(word);
                    const colorClass = `found-${WORDS_INFO.find(w => w.word === word).color}`;

                    for (const { el } of activeCells) {
                        el.classList.remove('active');
                        el.classList.add(colorClass);
                    }
                    activeCells = [];

                    successSound(word);
                    renderWords();
                    document.getElementById('status').textContent = `‚ú® "${word}" found!`;
                    document.getElementById('status').style.color = "#a78bfa";

                    if (foundWords.size === WORDS.length) {
                        setTimeout(() => {
                            winSound();
                            document.getElementById('status').textContent = "üéâ All words found! Your house is complete!";
                            document.getElementById('status').style.color = "#fde047";
                        }, 400);
                    }
                    return;
                }
            }

            if (activeCells.length > 0 && !isAnyWordPossible(selectedCoords)) {
                errorSound();
            }

            if (activeCells.length > 0) {
                document.getElementById('status').textContent = `Selecting‚Ä¶ (${activeCells.length} letters)`;
                document.getElementById('status').style.color = "#94a3b8";
            }
        }

        function isAnyWordPossible(selected) {
            for (const [word, positions] of wordPositions) {
                if (foundWords.has(word)) continue;
                if ([...selected].every(coord => positions.has(coord))) {
                    return true;
                }
            }
            return false;
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º
        document.getElementById('soundToggle').addEventListener('click', () => {
            isSoundEnabled = !isSoundEnabled;
            document.getElementById('soundToggle').textContent = 
                isSoundEnabled ? 'üîä Sounds: ON' : 'üîá Sounds: OFF';
        });

        document.body.addEventListener('click', () => {
            if (!audioContext && isSoundEnabled) {
                initAudio();
                if (audioContext && audioContext.state === 'suspended') {
                    audioContext.resume();
                }
            }
        }, { once: true });

        document.getElementById('restart').addEventListener('click', initGame);
        window.onload = initGame;
    </script>
</body>
</html>